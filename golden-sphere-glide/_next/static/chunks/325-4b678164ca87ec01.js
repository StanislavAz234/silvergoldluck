(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{2021:function(t,e,r){"use strict";r.d(e,{c:function(){return u},Z:function(){return l}});var n=r(7294),i=r(4671);Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let o=t=>(e,r,n)=>{let i=n.subscribe;n.subscribe=(t,e,r)=>{let o=t;if(e){let i=(null==r?void 0:r.equalityFn)||Object.is,s=t(n.getState());o=r=>{let n=t(r);if(!i(s,n)){let t=s;e(s=n,t)}},(null==r?void 0:r.fireImmediately)&&e(s,s)}return i(o)};let o=t(e,r,n);return o};Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let s=t=>e=>{try{let r=t(e);if(r instanceof Promise)return r;return{then:t=>s(t)(r),catch(t){return this}}}catch(t){return{then(t){return this},catch:e=>s(e)(t)}}},a=n.createContext(null);function u({map:t,children:e,onChange:r,domElement:s}){let u=t.map(t=>t.name+t.keys).join("-"),l=n.useMemo(()=>(0,i.Z)(o(()=>t.reduce((t,e)=>({...t,[e.name]:!1}),{}))),[u]),c=n.useMemo(()=>[l.subscribe,l.getState,l],[u]),p=l.setState;return n.useEffect(()=>{let e=t.map(({name:t,keys:e,up:n})=>({keys:e,up:n,fn:e=>{p({[t]:e}),r&&r(t,e,c[1]())}})),n=e.reduce((t,{keys:e,fn:r,up:n=!0})=>(e.forEach(e=>t[e]={fn:r,pressed:!1,up:n}),t),{}),i=({key:t,code:e})=>{let r=n[t]||n[e];if(!r)return;let{fn:i,pressed:o,up:s}=r;r.pressed=!0,(s||!o)&&i(!0)},o=({key:t,code:e})=>{let r=n[t]||n[e];if(!r)return;let{fn:i,up:o}=r;r.pressed=!1,o&&i(!1)},a=s||window;return a.addEventListener("keydown",i,{passive:!0}),a.addEventListener("keyup",o,{passive:!0}),()=>{a.removeEventListener("keydown",i),a.removeEventListener("keyup",o)}},[s,u]),n.createElement(a.Provider,{value:c,children:e})}function l(t){let[e,r,i]=n.useContext(a);return t?i(t):[e,r]}},4564:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.suspense=function(){let t=Error(n.NEXT_DYNAMIC_NO_SSR_CODE);throw t.digest=n.NEXT_DYNAMIC_NO_SSR_CODE,t},e.NoSSR=function(t){let{children:e}=t;return e},(0,r(2648).Z)(r(7294));var n=r(2983)},7645:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){let r=o.default,i={loading:t=>{let{error:e,isLoading:r,pastDelay:n}=t;return null}};t instanceof Promise?i.loader=()=>t:"function"==typeof t?i.loader=t:"object"==typeof t&&(i=n({},i,t)),i=n({},i,e);let a=i.loader,u=()=>null!=a?a().then(s):Promise.resolve(s(()=>null));return i.loadableGenerated&&delete(i=n({},i,i.loadableGenerated)).loadableGenerated,"boolean"!=typeof i.ssr||i.ssr||(delete i.webpack,delete i.modules),r(n({},i,{loader:u}))};var n=r(6495).Z,i=r(2648).Z;i(r(7294));var o=i(r(4588));function s(t){return{default:(null==t?void 0:t.default)||t}}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},3644:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadableContext=void 0;var n=(0,r(2648).Z)(r(7294));let i=n.default.createContext(null);e.LoadableContext=i},4588:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(932).Z,i=r(6495).Z,o=(0,r(2648).Z)(r(7294)),s=r(4564),a=r(3644);let u=[],l=[],c=!1;function p(t){let e=t(),r={loading:!0,loaded:null,error:null};return r.promise=e.then(t=>(r.loading=!1,r.loaded=t,t)).catch(t=>{throw r.loading=!1,r.error=t,t}),r}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:t,_opts:e}=this;t.loading&&("number"==typeof e.delay&&(0===e.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},e.delay)),"number"==typeof e.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},e.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(t=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(t){this._state=i({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},t),this._callbacks.forEach(t=>t())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(t){return this._callbacks.add(t),()=>{this._callbacks.delete(t)}}constructor(t,e){this._loadFn=t,this._opts=e,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function f(t){return function(t,e){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,ssr:!0},e),i=null;function u(){if(!i){let e=new d(t,r);i={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return i.promise()}if(r.lazy=o.default.lazy(n(function*(){if(r.ssr&&i){let t=i.getCurrentValue(),e=yield t.loaded;if(e)return e}return yield r.loader()})),!c){let t=r.webpack?r.webpack():r.modules;t&&l.push(e=>{for(let r of t)if(-1!==e.indexOf(r))return u()})}function p(t){!function(){u();let t=o.default.useContext(a.LoadableContext);t&&Array.isArray(r.modules)&&r.modules.forEach(e=>{t(e)})}();let e=r.loading,n=o.default.createElement(e,{isLoading:!0,pastDelay:!0,error:null}),i=r.ssr?o.default.Fragment:s.NoSSR,l=r.lazy;return o.default.createElement(o.default.Suspense,{fallback:n},o.default.createElement(i,null,o.default.createElement(l,Object.assign({},t))))}return p.preload=()=>u(),p.displayName="LoadableComponent",p}(p,t)}function h(t,e){let r=[];for(;t.length;){let n=t.pop();r.push(n(e))}return Promise.all(r).then(()=>{if(t.length)return h(t,e)})}f.preloadAll=()=>new Promise((t,e)=>{h(u).then(t,e)}),f.preloadReady=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(e=>{let r=()=>(c=!0,e());h(l,t).then(r,r)})},window.__NEXT_PRELOADREADY=f.preloadReady,e.default=f},5152:function(t,e,r){t.exports=r(7645)},9008:function(t,e,r){t.exports=r(3121)},7783:function(t,e,r){"use strict";var n,i,o,s,a,u=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Joystick=void 0;var c=r(7294),p=r(7950),d=r(704),f=r(4459);(n=s||(s={})).PointerDown="pointerdown",n.PointerMove="pointermove",n.PointerUp="pointerup",(i=a||(a={}))[i.TopRight=2.35619449]="TopRight",i[i.TopLeft=-2.35619449]="TopLeft",i[i.BottomRight=.785398163]="BottomRight",i[i.BottomLeft=-.785398163]="BottomLeft";var h=function(t){function e(e){var r,n=t.call(this,e)||this;return n._stickRef=c.createRef(),n._baseRef=c.createRef(),n._pointerId=null,n.state={dragging:!1},n._throttleMoveCallback=(r=0,function(t){var e=new Date().getTime();if(!(e-r<(n.props.throttle||0))&&(r=e,n.props.move))return n.props.move(t)}),n}return u(e,t),e.prototype.componentWillUnmount=function(){var t=this;this.props.followCursor&&window.removeEventListener(s.PointerMove,function(e){return t._pointerMove(e)})},e.prototype.componentDidMount=function(){var t=this;this.props.followCursor&&(this._parentRect=this._baseRef.current.getBoundingClientRect(),this.setState({dragging:!0}),window.addEventListener(s.PointerMove,function(e){return t._pointerMove(e)}),this.props.start&&this.props.start({type:"start",x:null,y:null,distance:null,direction:null}))},e.prototype._updatePos=function(t){var e=this;window.requestAnimationFrame(function(){e.setState({coordinates:t})}),"number"==typeof this.props.minDistance&&t.distance<this.props.minDistance||this._throttleMoveCallback({type:"move",x:2*t.relativeX/this._baseSize,y:-(2*t.relativeY/this._baseSize),direction:t.direction,distance:t.distance})},e.prototype._pointerDown=function(t){var e=this;this.props.disabled||this.props.followCursor||(this._parentRect=this._baseRef.current.getBoundingClientRect(),this.setState({dragging:!0}),window.addEventListener(s.PointerUp,function(t){return e._pointerUp(t)}),window.addEventListener(s.PointerMove,function(t){return e._pointerMove(t)}),this._pointerId=t.pointerId,this._stickRef.current.setPointerCapture(t.pointerId),this.props.start&&this.props.start({type:"start",x:null,y:null,distance:null,direction:null}))},e.prototype._getDirection=function(t){return t>a.TopRight||t<a.TopLeft?"FORWARD":t<a.TopRight&&t>a.BottomRight?"RIGHT":t<a.BottomLeft?"LEFT":"BACKWARD"},e.prototype._distance=function(t,e){return Math.hypot(t,e)},e.prototype._distanceToPercentile=function(t){var e=t/(this._baseSize/2)*100;return e>100?100:e},e.prototype._pointerMove=function(t){if(t.preventDefault(),this.state.dragging&&(this.props.followCursor||t.pointerId===this._pointerId)){var e=t.clientX,r=t.clientY,n=e-this._parentRect.left-this._radius,i=r-this._parentRect.top-this._radius,o=this._distance(n,i),s=(0,f.shapeBoundsFactory)(this.props.controlPlaneShape||this.props.baseShape,e,r,n,i,o,this._radius,this._baseSize,this._parentRect);n=s.relativeX,i=s.relativeY;var a=Math.atan2(n,i);this._updatePos({relativeX:n,relativeY:i,distance:this._distanceToPercentile(o),direction:this._getDirection(a),axisX:e-this._parentRect.left,axisY:r-this._parentRect.top})}},e.prototype._pointerUp=function(t){var e=this;if(t.pointerId===this._pointerId){var r={dragging:!1};this.props.sticky||(r.coordinates=void 0),window.requestAnimationFrame(function(){e.setState(r)}),window.removeEventListener(s.PointerUp,function(t){return e._pointerUp(t)}),window.removeEventListener(s.PointerMove,function(t){return e._pointerMove(t)}),this._pointerId=null,this.props.stop&&this.props.stop({type:"stop",x:this.props.sticky?2*this.state.coordinates.relativeX/this._baseSize:null,y:this.props.sticky?2*this.state.coordinates.relativeY/this._baseSize:null,direction:this.props.sticky?this.state.coordinates.direction:null,distance:this.props.sticky?this.state.coordinates.distance:null})}},e.prototype.getBaseShapeStyle=function(){var t=this.props.baseShape||p.JoystickShape.Circle;return(0,d.shapeFactory)(t,this._baseSize)},e.prototype.getStickShapeStyle=function(){var t=this.props.stickShape||p.JoystickShape.Circle;return(0,d.shapeFactory)(t,this._baseSize)},e.prototype._getBaseStyle=function(){var t=void 0!==this.props.baseColor?this.props.baseColor:"#000033",e="".concat(this._baseSize,"px"),r=l(l({},this.getBaseShapeStyle()),{height:e,width:e,background:t,display:"flex",justifyContent:"center",alignItems:"center"});return this.props.baseImage&&(r.background="url(".concat(this.props.baseImage,")"),r.backgroundSize="100%"),r},e.prototype._getStickStyle=function(){var t=void 0!==this.props.stickColor?this.props.stickColor:"#3D59AB",e=this._stickSize?"".concat(this._stickSize,"px"):"".concat(this._baseSize/1.5,"px"),r=l(l({},this.getStickShapeStyle()),{background:t,cursor:"move",height:e,width:e,border:"none",flexShrink:0,touchAction:"none"});return this.props.stickImage&&(r.background="url(".concat(this.props.stickImage,")"),r.backgroundSize="100%"),void 0!==this.state.coordinates&&(r=Object.assign({},r,{position:"absolute",transform:"translate3d(".concat(this.state.coordinates.relativeX,"px, ").concat(this.state.coordinates.relativeY,"px, 0)")})),r},e.prototype.render=function(){var t=this;this._baseSize=this.props.size||100,this._stickSize=this.props.stickSize,this._radius=this._baseSize/2;var e=this._getBaseStyle(),r=this._getStickStyle();return c.createElement("div",{className:this.props.disabled?"joystick-base-disabled":"",ref:this._baseRef,style:e},c.createElement("button",{ref:this._stickRef,disabled:this.props.disabled,onPointerDown:function(e){return t._pointerDown(e)},className:this.props.disabled?"joystick-disabled":"",style:r}))},e}(c.Component);e.Joystick=h},7950:function(t,e){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.JoystickShape=void 0,(r=e.JoystickShape||(e.JoystickShape={})).Circle="circle",r.Square="square"},2642:function(t,e,r){"use strict";e.Tj=void 0;var n=r(7783);Object.defineProperty(e,"Tj",{enumerable:!0,get:function(){return n.Joystick}}),r(7950)},4459:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shapeBoundsFactory=void 0;var n=r(7950);e.shapeBoundsFactory=function(t,e,r,o,s,a,u,l,c){return t===n.JoystickShape.Square?{relativeX:o=i(e-c.left-l/2,l),relativeY:s=i(r-c.top-l/2,l)}:(a>u&&(o*=u/a,s*=u/a),{relativeX:o,relativeY:s})};var i=function(t,e){var r=e/2;return t>r?r:t<-r?-1*r:t}},704:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shapeFactory=void 0;var n=r(7950);e.shapeFactory=function(t,e){switch(t){case n.JoystickShape.Circle:return{borderRadius:e};case n.JoystickShape.Square:return{borderRadius:Math.sqrt(e)}}}},4671:function(t,e,r){"use strict";r.d(e,{Z:function(){return s}});var n=r(7294);let i="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),o=i?n.useEffect:n.useLayoutEffect;function s(t){let e="function"==typeof t?function(t){let e;let r=new Set,n=(t,n)=>{let i="function"==typeof t?t(e):t;if(i!==e){let t=e;e=n?i:Object.assign({},e,i),r.forEach(r=>r(e,t))}},i=()=>e,o=(t,n=i,o=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let s=n(e);function a(){let r=n(e);if(!o(s,r)){let e=s;t(s=r,e)}}return r.add(a),()=>r.delete(a)},s=(t,e,n)=>e||n?o(t,e,n):(r.add(t),()=>r.delete(t)),a=()=>r.clear(),u={setState:n,getState:i,subscribe:s,destroy:a};return e=t(n,i,u),u}(t):t,r=(t=e.getState,r=Object.is)=>{let i;let[,s]=(0,n.useReducer)(t=>t+1,0),a=e.getState(),u=(0,n.useRef)(a),l=(0,n.useRef)(t),c=(0,n.useRef)(r),p=(0,n.useRef)(!1),d=(0,n.useRef)();void 0===d.current&&(d.current=t(a));let f=!1;(u.current!==a||l.current!==t||c.current!==r||p.current)&&(i=t(a),f=!r(d.current,i)),o(()=>{f&&(d.current=i),u.current=a,l.current=t,c.current=r,p.current=!1});let h=(0,n.useRef)(a);o(()=>{let t=()=>{try{let t=e.getState(),r=l.current(t);c.current(d.current,r)||(u.current=t,d.current=r,s())}catch(t){p.current=!0,s()}},r=e.subscribe(t);return e.getState()!==h.current&&t(),r},[]);let y=f?i:d.current;return(0,n.useDebugValue)(y),y};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let t=[r,e];return{next(){let e=t.length<=0;return{value:t.shift(),done:e}}}},r}},7486:function(t,e,r){"use strict";r.d(e,{Z:function(){return P}});var n=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},i="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,s=i||o||Function("return this")(),a=function(){return s.Date.now()},u=/\s/,l=function(t){for(var e=t.length;e--&&u.test(t.charAt(e)););return e},c=/^\s+/,p=s.Symbol,d=Object.prototype,f=d.hasOwnProperty,h=d.toString,y=p?p.toStringTag:void 0,v=function(t){var e=f.call(t,y),r=t[y];try{t[y]=void 0;var n=!0}catch(t){}var i=h.call(t);return n&&(e?t[y]=r:delete t[y]),i},_=Object.prototype.toString,b=p?p.toStringTag:void 0,m=function(t){var e;return"symbol"==typeof t||null!=t&&"object"==typeof t&&"[object Symbol]"==(null==(e=t)?void 0===e?"[object Undefined]":"[object Null]":b&&b in Object(e)?v(e):_.call(e))},g=0/0,S=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,k=/^0o[0-7]+$/i,O=parseInt,j=function(t){if("number"==typeof t)return t;if(m(t))return g;if(n(t)){var e,r="function"==typeof t.valueOf?t.valueOf():t;t=n(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)?e.slice(0,l(e)+1).replace(c,""):e;var i=w.test(t);return i||k.test(t)?O(t.slice(2),i?2:8):S.test(t)?g:+t},R=Math.max,E=Math.min,P=function(t,e,r){var i,o,s,u,l,c,p=0,d=!1,f=!1,h=!0;if("function"!=typeof t)throw TypeError("Expected a function");function y(e){var r=i,n=o;return i=o=void 0,p=e,u=t.apply(n,r)}function v(t){var r=t-c,n=t-p;return void 0===c||r>=e||r<0||f&&n>=s}function _(){var t,r,n,i=a();if(v(i))return b(i);l=setTimeout(_,(t=i-c,r=i-p,n=e-t,f?E(n,s-r):n))}function b(t){return(l=void 0,h&&i)?y(t):(i=o=void 0,u)}function m(){var t,r=a(),n=v(r);if(i=arguments,o=this,c=r,n){if(void 0===l)return p=t=c,l=setTimeout(_,e),d?y(t):u;if(f)return clearTimeout(l),l=setTimeout(_,e),y(c)}return void 0===l&&(l=setTimeout(_,e)),u}return e=j(e)||0,n(r)&&(d=!!r.leading,s=(f="maxWait"in r)?R(j(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h),m.cancel=function(){void 0!==l&&clearTimeout(l),p=0,i=c=o=l=void 0},m.flush=function(){return void 0===l?u:b(a())},m}}}]);